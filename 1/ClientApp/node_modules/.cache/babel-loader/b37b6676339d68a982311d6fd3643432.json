{"ast":null,"code":"import _classCallCheck from\"/Users/vandung31141/Projects/1/1/ClientApp/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/vandung31141/Projects/1/1/ClientApp/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/vandung31141/Projects/1/1/ClientApp/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/vandung31141/Projects/1/1/ClientApp/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import*as React from'react';import{connect}from'react-redux';import{Link}from'react-router-dom';import*as WeatherForecastsStore from'../store/WeatherForecasts';// At runtime, Redux will merge together...\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";// ... plus incoming routing parameters\nvar FetchData=/*#__PURE__*/function(_React$PureComponent){_inherits(FetchData,_React$PureComponent);var _super=_createSuper(FetchData);function FetchData(){_classCallCheck(this,FetchData);return _super.apply(this,arguments);}_createClass(FetchData,[{key:\"componentDidMount\",value:// This method is called when the component is first added to the document\nfunction componentDidMount(){this.ensureDataFetched();}// This method is called when the route parameters change\n},{key:\"componentDidUpdate\",value:function componentDidUpdate(){this.ensureDataFetched();}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{id:\"tabelLabel\",children:\"Weather forecast\"}),/*#__PURE__*/_jsx(\"p\",{children:\"This component demonstrates fetching data from the server and working with URL parameters.\"}),this.renderForecastsTable(),this.renderPagination()]});}},{key:\"ensureDataFetched\",value:function ensureDataFetched(){var startDateIndex=parseInt(this.props.match.params.startDateIndex,10)||0;this.props.requestWeatherForecasts(startDateIndex);}},{key:\"renderForecastsTable\",value:function renderForecastsTable(){return/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped\",\"aria-labelledby\":\"tabelLabel\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Temp. (C)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Temp. (F)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Summary\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.props.forecasts.map(function(forecast){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:forecast.date}),/*#__PURE__*/_jsx(\"td\",{children:forecast.temperatureC}),/*#__PURE__*/_jsx(\"td\",{children:forecast.temperatureF}),/*#__PURE__*/_jsx(\"td\",{children:forecast.summary})]},forecast.date);})})]});}},{key:\"renderPagination\",value:function renderPagination(){var prevStartDateIndex=(this.props.startDateIndex||0)-5;var nextStartDateIndex=(this.props.startDateIndex||0)+5;return/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(Link,{className:\"btn btn-outline-secondary btn-sm\",to:\"/fetch-data/\".concat(prevStartDateIndex),children:\"Previous\"}),this.props.isLoading&&/*#__PURE__*/_jsx(\"span\",{children:\"Loading...\"}),/*#__PURE__*/_jsx(Link,{className:\"btn btn-outline-secondary btn-sm\",to:\"/fetch-data/\".concat(nextStartDateIndex),children:\"Next\"})]});}}]);return FetchData;}(React.PureComponent);export default connect(function(state){return state.weatherForecasts;},// Selects which state properties are merged into the component's props\nWeatherForecastsStore.actionCreators// Selects which action creators are merged into the component's props\n)(FetchData);","map":{"version":3,"names":["React","connect","Link","WeatherForecastsStore","FetchData","ensureDataFetched","renderForecastsTable","renderPagination","startDateIndex","parseInt","props","match","params","requestWeatherForecasts","forecasts","map","forecast","date","temperatureC","temperatureF","summary","prevStartDateIndex","nextStartDateIndex","isLoading","PureComponent","state","weatherForecasts","actionCreators"],"sources":["/Users/vandung31141/Projects/1/1/ClientApp/src/components/FetchData.tsx"],"sourcesContent":["import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport { ApplicationState } from '../store';\nimport * as WeatherForecastsStore from '../store/WeatherForecasts';\n\n// At runtime, Redux will merge together...\ntype WeatherForecastProps =\n  WeatherForecastsStore.WeatherForecastsState // ... state we've requested from the Redux store\n  & typeof WeatherForecastsStore.actionCreators // ... plus action creators we've requested\n  & RouteComponentProps<{ startDateIndex: string }>; // ... plus incoming routing parameters\n\n\nclass FetchData extends React.PureComponent<WeatherForecastProps> {\n  // This method is called when the component is first added to the document\n  public componentDidMount() {\n    this.ensureDataFetched();\n  }\n\n  // This method is called when the route parameters change\n  public componentDidUpdate() {\n    this.ensureDataFetched();\n  }\n\n  public render() {\n    return (\n      <React.Fragment>\n        <h1 id=\"tabelLabel\">Weather forecast</h1>\n        <p>This component demonstrates fetching data from the server and working with URL parameters.</p>\n        {this.renderForecastsTable()}\n        {this.renderPagination()}\n      </React.Fragment>\n    );\n  }\n\n  private ensureDataFetched() {\n    const startDateIndex = parseInt(this.props.match.params.startDateIndex, 10) || 0;\n    this.props.requestWeatherForecasts(startDateIndex);\n  }\n\n  private renderForecastsTable() {\n    return (\n      <table className='table table-striped' aria-labelledby=\"tabelLabel\">\n        <thead>\n          <tr>\n            <th>Date</th>\n            <th>Temp. (C)</th>\n            <th>Temp. (F)</th>\n            <th>Summary</th>\n          </tr>\n        </thead>\n        <tbody>\n          {this.props.forecasts.map((forecast: WeatherForecastsStore.WeatherForecast) =>\n            <tr key={forecast.date}>\n              <td>{forecast.date}</td>\n              <td>{forecast.temperatureC}</td>\n              <td>{forecast.temperatureF}</td>\n              <td>{forecast.summary}</td>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    );\n  }\n\n  private renderPagination() {\n    const prevStartDateIndex = (this.props.startDateIndex || 0) - 5;\n    const nextStartDateIndex = (this.props.startDateIndex || 0) + 5;\n\n    return (\n      <div className=\"d-flex justify-content-between\">\n        <Link className='btn btn-outline-secondary btn-sm' to={`/fetch-data/${prevStartDateIndex}`}>Previous</Link>\n        {this.props.isLoading && <span>Loading...</span>}\n        <Link className='btn btn-outline-secondary btn-sm' to={`/fetch-data/${nextStartDateIndex}`}>Next</Link>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  (state: ApplicationState) => state.weatherForecasts, // Selects which state properties are merged into the component's props\n  WeatherForecastsStore.actionCreators // Selects which action creators are merged into the component's props\n)(FetchData as any);\n\n"],"mappings":"gfAAA,MAAO,GAAKA,MAAZ,KAAuB,OAAvB,CACA,OAASC,OAAT,KAAwB,aAAxB,CAEA,OAASC,IAAT,KAAqB,kBAArB,CAEA,MAAO,GAAKC,sBAAZ,KAAuC,2BAAvC,CAEA;wFAIqD;GAG/CC,U,2QACJ;AACA,4BAA2B,CACzB,KAAKC,iBAAL,GACD,CAED;kCACA,6BAA4B,CAC1B,KAAKA,iBAAL,GACD,C,sBAED,iBAAgB,CACd,mBACE,MAAC,KAAD,CAAO,QAAP,yBACE,WAAI,EAAE,CAAC,YAAP,8BADF,cAEE,iHAFF,CAGG,KAAKC,oBAAL,EAHH,CAIG,KAAKC,gBAAL,EAJH,GADF,CAQD,C,iCAED,4BAA4B,CAC1B,GAAMC,eAAc,CAAGC,QAAQ,CAAC,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBJ,cAAzB,CAAyC,EAAzC,CAAR,EAAwD,CAA/E,CACA,KAAKE,KAAL,CAAWG,uBAAX,CAAmCL,cAAnC,EACD,C,oCAED,+BAA+B,CAC7B,mBACE,eAAO,SAAS,CAAC,qBAAjB,CAAuC,kBAAgB,YAAvD,wBACE,oCACE,mCACE,4BADF,cAEE,iCAFF,cAGE,iCAHF,cAIE,+BAJF,GADF,EADF,cASE,uBACG,KAAKE,KAAL,CAAWI,SAAX,CAAqBC,GAArB,CAAyB,SAACC,QAAD,qBACxB,mCACE,oBAAKA,QAAQ,CAACC,IAAd,EADF,cAEE,oBAAKD,QAAQ,CAACE,YAAd,EAFF,cAGE,oBAAKF,QAAQ,CAACG,YAAd,EAHF,cAIE,oBAAKH,QAAQ,CAACI,OAAd,EAJF,GAASJ,QAAQ,CAACC,IAAlB,CADwB,EAAzB,CADH,EATF,GADF,CAsBD,C,gCAED,2BAA2B,CACzB,GAAMI,mBAAkB,CAAG,CAAC,KAAKX,KAAL,CAAWF,cAAX,EAA6B,CAA9B,EAAmC,CAA9D,CACA,GAAMc,mBAAkB,CAAG,CAAC,KAAKZ,KAAL,CAAWF,cAAX,EAA6B,CAA9B,EAAmC,CAA9D,CAEA,mBACE,aAAK,SAAS,CAAC,gCAAf,wBACE,KAAC,IAAD,EAAM,SAAS,CAAC,kCAAhB,CAAmD,EAAE,uBAAiBa,kBAAjB,CAArD,sBADF,CAEG,KAAKX,KAAL,CAAWa,SAAX,eAAwB,oCAF3B,cAGE,KAAC,IAAD,EAAM,SAAS,CAAC,kCAAhB,CAAmD,EAAE,uBAAiBD,kBAAjB,CAArD,kBAHF,GADF,CAOD,C,uBA/DqBtB,KAAK,CAACwB,a,EAkE9B,cAAevB,QAAO,CACpB,SAACwB,KAAD,QAA6BA,MAAK,CAACC,gBAAnC,EADoB,CACiC;AACrDvB,qBAAqB,CAACwB,cAAe;AAFjB,CAAP,CAGbvB,SAHa,CAAf"},"metadata":{},"sourceType":"module"}